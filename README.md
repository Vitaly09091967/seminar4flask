Для выполнения задачи по скачиванию изображений с заданных URL-адресов и сохранения их на диск с использованием многопоточности, многопроцессорности и асинхронности, а также возможностью задавать список URL-адресов через аргументы командной строки, напишем программу на Python, используя библиотеки requests, concurrent.futures для многопоточности и многопроцессорности, а также aiohttp и asyncio для асинхронности.
Для запуска программы, укажем список URL-адресов в качестве аргументов командной строки. Например, команда python download_images.py https://example.com/image1.jpg https://example.com/image2.jpg скачает изображения по указанным URL-адресам.


Данный код позволяет скачивать изображения с заданных URL-адресов, сохранять их на диск и выводить информацию о времени скачивания каждого изображения, используя различные подходы: многопоточность, многопроцессорность и асинхронность.

Описание работы кода:

1. В функции download_image(url) происходит скачивание изображения по указанному URL-адресу. Имя файла формируется из последнего сегмента URL. Используется библиотека requests для выполнения GET-запроса и сохранения полученного контента в файл.

2. В асинхронной функции async_download_image(session, url) также происходит скачивание изображения по URL-адресу, но используется библиотека aiohttp для асинхронной работы с HTTP-запросами.

3. Функции download_images_thread_pool(urls) и download_images_process_pool(urls) используют concurrent.futures.ThreadPoolExecutor() и concurrent.futures.ProcessPoolExecutor() соответственно для скачивания изображений с использованием многопоточности и многопроцессорности. Результаты скачивания и время выполнения записываются.

4. Функция download_images_async(urls) использует асинхронный подход с использованием библиотеки aiohttp, aiohttp.ClientSession() и asyncio.gather() для одновременного скачивания изображений. Собираются результаты и замеряется время выполнения.

5. В основной части программы загружается список URL-адресов через аргументы командной строки. Затем выполняются загрузки изображений с использованием многопоточности, многопроцессорности и асинхронности. Результаты и время выполнения выводятся в консоль для каждого подхода.

Таким образом, данный код демонстрирует эффективные способы скачивания изображений с использованием различных подходов для работы с потоками, процессами и асинхронными операциями, а также предоставляет информацию о времени выполнения каждого метода.
